## Остаточний вибір архітектурного стилю

**Назва**: Вибір модульного моноліту як основної архітектури

**Статус**: Прийнято

**Дата**: 12.11.2025

## Контекст

**MyFomin** -- це система обліку особистих фінансів (бюджетування), яка складається з п'яти Bounded Contexts (User, Account, Transaction, Balance, Category).

- **Стан проекту**: Початковий етап. Реалізовано базовий CRUD для одного контексту (Account), використовується Laravel.
- **Команда**: троє студентів. Команда має обмежений досвід у налаштуванні інфраструктури, CI/CD та розподілених систем.
- **Цілі**: Швидке прототипування, легкість локальної розробки та навчання.

## Рішення 

Було прийнято рішення використовувати модульний моноліт як основний архітектурний стиль на поточному етапі. Усі Bounded Contexts (Account, Transaction, Category і т.д) будуть розгортатися як єдиний застосунок Laravel, але будуть чітко розділені внутрішніми модулями та шарами (api/, service/, domain/) для підтримки принципу ізоляції контекстів, визначеного в Практиці 3.

**Аргументи "за" модульний моноліт:**
- швидкий старт - один репозиторій, один процес розгортання
- простота транзакцій - легке забезпечення цілісності даних (ACID) між контекстами
- низька складність - не потрібні додаткові технології (брокери повідомлень, API Gateway)
- лигкий рефакторинг

**Аргументи "проти" модульний моноліт:**
- складнощі при масштабуванні: моноліт важко підтримувати на мові динамічної типізації

**Аргументи "за" мікросервіси:**
- незалежне розгортання та масштабування
- можливість використовувати мову, оптимальну для конкретного сервісу

**Аргументи "проти" мікросервіси:**
- повільніший
- висока складність - потрібен Docker, Kubernetes, API Gateway, інструменти для трасування
- складність комунікації - необхідність вирішення проблем мережевих викликів та розподілених транзакцій (Saga)

## Альтернативи

**Пілотний мікросервіс (відхилено):** потенційно кращий для масштабованих систем із великою кількістю незалежних модулів, але потребує значно більше ресурсів, складнішої інфраструктури, окремого CI/CD для кожного сервісу та належного моніторингу.

## Наслідки

**Розробка:** швидкий цикл розробки, просте налагодження (debugging), використання спільних бібліотек та інструментів.

**Релізи/Розгортання:** один артефакт (застосунок) для розгортання.

**Комунікація:** внутрішні виклики між контекстами відбуваються через прості програмні виклики (без HTTP/черг), що є швидшим і простішим.

**Інфраструктура:** мінімальна потреба в інфраструктурі (один сервер).

## Умови перегляду

Рішення про використання мікросервісів буде переглянуто, якщо:

1. Буде виявлено, що один із контекстів (наприклад, Balance Context через високе навантаження) вимагає значно більше ресурсів, ніж решта системи, і стає вузьким місцем.

2. Якщо команда успішно освоїть інструменти оркестрації (Docker/Kubernetes) і буде готова до підвищення складності.